# Task Manager API Documentation

This document provides details for the Task Manager REST API.

**Base URL**: `http://localhost:8080`

---

## Task Model

This is the core data object used in the API for requests and responses.

### Properties

| Field         | Type      | Description                                                                    | Required on Create/Update |
|---------------|-----------|--------------------------------------------------------------------------------|---------------------------|
| `id`          | integer   | The unique identifier for the task. Automatically generated by the server.     | No                        |
| `title`       | string    | The title of the task.                                                         | **Yes**                   |
| `description` | string    | A detailed description of the task.                                            | No                        |
| `duedate`     | string    | The due date in RFC3339 format (e.g., `"2024-12-15T17:00:00Z"`).                 | **Yes**                   |
| `status`      | string    | The current status of the task. Must be one of the allowed values listed below. | **Yes**                   |

### Allowed Status Values
*   `"Pending"`
*   `"In progress"`
*   `"Done"`

---

## Endpoints

### 1. Create a New Task

Creates a new task.

- **Endpoint**: `POST /tasks`
- **Request Body**: A JSON object representing a `Task` (the `id` field is ignored).

  **Example Request:**
  ```json
  {
    "title": "Create API Documentation",
    "description": "Write a markdown file describing all endpoints.",
    "duedate": "2024-11-10T11:00:00Z",
    "status": "Pending"
  }
  ```

- **Responses**:
  - **`201 Created`**: The task was created successfully. The response body contains the newly created task object.
    ```json
    {
      "id": 1,
      "title": "Create API Documentation",
      "description": "Write a markdown file describing all endpoints.",
      "duedate": "2024-11-10T11:00:00Z",
      "status": "Pending"
    }
    ```
  - **`400 Bad Request`**: The request body is malformed, missing required fields, or contains an invalid status.
    ```json
    {
      "message": "Incorrect Task Body",
      "Error": "..."
    }
    ```

### 2. Get All Tasks

Retrieves a list of all tasks. The order of tasks in the returned array is not guaranteed.

- **Endpoint**: `GET /tasks`

- **Responses**:
  - **`200 OK`**: A JSON array of task objects. The array will be empty if no tasks exist.
    ```json
    [
      {
        "id": 1,
        "title": "Create API Documentation",
        "description": "Write a markdown file describing all endpoints.",
        "duedate": "2024-11-10T11:00:00Z",
        "status": "Pending"
      }
    ]
    ```

### 3. Get a Specific Task

Retrieves a single task by its unique ID.

- **Endpoint**: `GET /tasks/:id`

- **Responses**:
  - **`200 OK`**: The response body contains the requested task object.
    ```json
    {
      "id": 1,
      "title": "Create API Documentation",
      "description": "Write a markdown file describing all endpoints.",
      "duedate": "2024-11-10T11:00:00Z",
      "status": "Pending"
    }
    ```
  - **`400 Bad Request`**: The provided `id` in the URL is not a valid integer.
    ```json
    {
      "message": "Incorrect Id",
      "Error": "strconv.Atoi: parsing \"abc\": invalid syntax"
    }
    ```
  - **`404 Not Found`**: No task exists with the specified `id`.
    ```json
    {
      "Error": "there is no task with id 99"
    }
    ```

### 4. Update a Task

Updates an existing task by its ID.

- **Endpoint**: `PUT /tasks/:id`
- **Request Body**: A JSON object containing the new details for the task.

  **Example Request:**
  ```json
  {
    "title": "Update API Documentation",
    "description": "Update the docs to include all response bodies.",
    "duedate": "2024-11-10T12:00:00Z",
    "status": "Done"
  }
  ```

- **Responses**:
  - **`200 OK`**: The task was updated successfully. The response body contains the complete, updated task object.
    ```json
    {
      "id": 1,
      "title": "Update API Documentation",
      "description": "Update the docs to include all response bodies.",
      "duedate": "2024-11-10T12:00:00Z",
      "status": "Done"
    }
    ```
  - **`400 Bad Request`**: The provided `id` is invalid, the request body is malformed, or the status is invalid.
  - **`404 Not Found`**: No task exists with the specified `id`.

### 5. Delete a Task

Deletes a task by its ID.

- **Endpoint**: `DELETE /tasks/:id`

- **Responses**:
  - **`204 No Content`**: The task was deleted successfully. The response will have **no body**.
  - **`400 Bad Request`**: The provided `id` in the URL is not a valid integer.
    ```json
    {
      "message": "Incorrect Id",
      "Error": "strconv.Atoi: parsing \"abc\": invalid syntax"
    }
    ```
  - **`404 Not Found`**: No task exists with the specified `id`.
    ```json
    {
      "Error": "there is no task with id 99"
    }
    ```